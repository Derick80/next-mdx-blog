---
title: Database
author: 'Derick Hoskinson, Ph.D.'
description: 'Database Planning for VariantAlleles.com'
publishedAt: 2023-11-06
published: true
categories: ['database', 'planning', 'documentation']
---

<BlogImage
  cloudinaryId='Japan_2023/Kanazawa/PXL_20230131_110609004.MP_tndiyy'
  imgProps={{ alt: 'Kanazawa, Japan' }}
/>
Assuming the file is in the same directory

```tsx
function getImageBuilder(
  id: string,
  alt: string = '',
  { className, style }: { className?: string; style?: CSSProperties } = {}
): ImageBuilder {
  function imageBuilder(transformations?: TransformerOption) {
    return buildImageUrl(id, { transformations })
  }
  imageBuilder.alt = alt
  imageBuilder.id = id
  imageBuilder.className = className
  imageBuilder.style = style
  return imageBuilder
}
```

## Context

VariantAlleles.com will use a distributed SQL database that is compatible with postgres to store data. The database is hosted on cockroachlabs cloud.

### CockroachDB

Connection string template:
DATABASE_URL=postgresql://USER:PASSWORD.HOST:PORT/DATABASE?sslmode=verify-full

## Decision

Using CockroachDB as the database for VariantAlleles.com has been useful for development as I test out different application frameworks. I can just place the conncection string in the .env file and the application will connect to the database.

I also used this database for the initial seeding of the app which involved large and complex datasets.

## Consequences

## Table

| a   | b   |   c |  d  |
| --- | :-- | --: | :-: |
| 1   | 2   |   3 |  4  |

```ts
function getImageBuilder(
  id: string,
  alt: string = '',
  { className, style }: { className?: string; style?: CSSProperties } = {}
): ImageBuilder {
  function imageBuilder(transformations?: TransformerOption) {
    return buildImageUrl(id, { transformations })
  }
  imageBuilder.alt = alt
  imageBuilder.id = id
  imageBuilder.className = className
  imageBuilder.style = style
  return imageBuilder
}
```
